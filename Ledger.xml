<GuiXml>

  <Font name="LedgerRowFont" font="$(MEDIUM_FONT)|16|soft-shadow-thick" />

  <Controls>
    <Label name="LedgerRowLabel" font="LedgerRowFont" inheritAlpha="true" verticalAlignment="CENTER" horizontalAlignment="LEFT" wrapMode="ELLIPSIS" virtual="true" />

    <Control name="LedgerRow" virtual="true">
      <Dimensions y="LEDGER_ROW_HEIGHT" />
      <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />

      <Controls>
        <Texture name="$(parent)BG" inherits="ZO_ThinListBgStrip" />

        <Label name="$(parent)Timestamp" inherits="LedgerRowLabel">
          <Dimensions x="160" y="LEDGER_ROW_HEIGHT" />
          <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
        </Label>

        <Label name="$(parent)Character" inherits="LedgerRowLabel">
          <Dimensions x="180" y="LEDGER_ROW_HEIGHT" />
          <Anchor point="TOPLEFT" relativeTo="$(parent)Timestamp" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
        </Label>

        <Label name="$(parent)Balance" inherits="LedgerRowLabel">
          <Dimensions x="120" y="LEDGER_ROW_HEIGHT" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
        </Label>

        <Label name="$(parent)Variation" inherits="LedgerRowLabel">
          <Dimensions x="120" y="LEDGER_ROW_HEIGHT" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)Balance" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
        </Label>

        <Label name="$(parent)Reason" inherits="LedgerRowLabel">
          <Dimensions y="LEDGER_ROW_HEIGHT" />
          <Anchor point="TOPLEFT" relativeTo="$(parent)Character" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)Variation" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
        </Label>
      </Controls>
    </Control>

    <!-- / -->

    <TopLevelControl movable="true" mouseEnabled="true" name="Ledger" resizeHandleSize="5">
      <Dimensions x="LEDGER_WIDTH" y="LEDGER_HEIGHT" />
      <DimensionConstraints minX="LEDGER_WIDTH" minY="LEDGER_HEIGHT" />
      <Anchor point="CENTER" />

      <OnInitialized>
        Ledger_OnInitialized(self)
      </OnInitialized>

      <OnMoveStop>
        Ledger_OnMoveStop(self)
      </OnMoveStop>

      <OnResizeStop>
        Ledger_OnResizeStop(self)
      </OnResizeStop>

      <OnShow>
        Ledger_OnShow(self)
      </OnShow>

      <Controls>
        <Backdrop name="$(parent)BG" inherits="ZO_DefaultBackdrop">
          <AnchorFill />
        </Backdrop>

        <!-- / -->

        <Button name="$(parent)Close" inherits="ZO_CloseButton">
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="-15" offsetY="15" />
          <OnMouseUp>
            LedgerClose_OnMouseUp(self)
          </OnMouseUp>
        </Button>

        <!-- / -->

        <Label name="$(parent)Title" text="SI_LEDGER_TITLE" inherits="ZO_WindowTitle">
          <Dimensions y="32" />
          <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="15" offsetY="15" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="-15" offsetY="15" />
        </Label>

        <!-- / -->

        <Control name="$(parent)Filters">
          <Dimensions y="32" />

          <Anchor point="TOPLEFT" relativeTo="$(parent)Title" relativePoint="BOTTOMLEFT" offsetX="0" offsetY="20" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)Title" relativePoint="BOTTOMRIGHT" offsetX="0" offsetY="20" />

          <Controls>
            <Control name="$(parent)TimeFrame" inherits="ZO_ComboBox">
              <Dimensions x="170"/>
              <Anchor point="LEFT" relativeTo="$(parent)" relativePoint="LEFT" offsetX="0" offsetY="0" />
            </Control>
            <Control name="$(parent)Character" inherits="ZO_ComboBox">
              <Dimensions x="270"/>
              <Anchor point="LEFT" relativeTo="$(parent)TimeFrame" relativePoint="RIGHT" offsetX="10" offsetY="0" />
            </Control>
          </Controls>
        </Control>

        <!-- / -->

        <Control name="$(parent)Headers">
          <Dimensions y="32" />

          <Anchor point="TOPLEFT" relativeTo="$(parent)Filters" relativePoint="BOTTOMLEFT" offsetX="0" offsetY="10" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)Filters" relativePoint="BOTTOMRIGHT" offsetX="0" offsetY="10" />

          <Controls>
            <Control name="$(parent)Timestamp" inherits="ZO_SortHeader">
              <Dimensions x="160" y="32" />
              <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, GetString(SI_LEDGER_HEADER_TIMESTAMP), "timestamp", ZO_SORT_ORDER_UP, TEXT_ALIGN_LEFT, "ZoFontGameLargeBold")
              </OnInitialized>
            </Control>

            <Control name="$(parent)Character" inherits="ZO_SortHeader">
              <Dimensions x="180" y="32" />
              <Anchor point="TOPLEFT" relativeTo="$(parent)Timestamp" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, GetString(SI_LEDGER_HEADER_CHARACTER), "character", ZO_SORT_ORDER_DOWN, TEXT_ALIGN_LEFT, "ZoFontGameLargeBold")
              </OnInitialized>
            </Control>

            <Control name="$(parent)Balance" inherits="ZO_SortHeader">
              <Dimensions x="120" y="32" />
              <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, GetString(SI_LEDGER_HEADER_BALANCE), "balance", ZO_SORT_ORDER_DOWN, TEXT_ALIGN_LEFT, "ZoFontGameLargeBold")
              </OnInitialized>
            </Control>

            <Control name="$(parent)Variation" inherits="ZO_SortHeader">
              <Dimensions x="136" y="32" />
              <Anchor point="TOPRIGHT" relativeTo="$(parent)Balance" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, GetString(SI_LEDGER_HEADER_VARIATION), "variation", ZO_SORT_ORDER_DOWN, TEXT_ALIGN_LEFT, "ZoFontGameLargeBold")
              </OnInitialized>
            </Control>

            <Control name="$(parent)Reason" inherits="ZO_SortHeader">
              <Dimensions y="32" />
              <Anchor point="TOPLEFT" relativeTo="$(parent)Character" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
              <Anchor point="TOPRIGHT" relativeTo="$(parent)Variation" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, GetString(SI_LEDGER_HEADER_REASON), "reason", ZO_SORT_ORDER_DOWN, TEXT_ALIGN_LEFT, "ZoFontGameLargeBold")
              </OnInitialized>
            </Control>
          </Controls>
        </Control>

        <!-- / -->

        <Control name="$(parent)List" inherits="ZO_ScrollList" >
          <Anchor point="TOPLEFT" relativeTo="$(parent)Headers" relativePoint="BOTTOMLEFT" offsetX="0" offsetY="0" />
          <Anchor point="BOTTOMRIGHT" relativeTo="$(parent)" relativePoint="BOTTOMRIGHT" offsetX="-15" offsetY="-15" />
        </Control>
      </Controls>
    </TopLevelControl>
  </Controls>
</GuiXml>
