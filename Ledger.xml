<GuiXml>
  <Controls>

    <Control name="LedgerUIRow" virtual="true">
      <Dimensions y="28" />
      <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />

      <Controls>
        <!--Texture name="$(parent)BG" inherits="ZO_ThinListBgStrip" /-->

        <Label name="$(parent)Timestamp" inheritAlpha="true" verticalAlignment="CENTER" horizontalAlignment="LEFT" font="ZoFontGameSmall">
          <Dimensions x="110" y="28" />
          <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
        </Label>

        <Label name="$(parent)Amount" inheritAlpha="true" verticalAlignment="CENTER" horizontalAlignment="LEFT" font="ZoFontGameSmall">
          <Dimensions x="90" y="28" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
        </Label>

        <Label name="$(parent)Variation" inheritAlpha="true" verticalAlignment="CENTER" horizontalAlignment="LEFT" font="ZoFontGameSmall">
          <Dimensions x="90" y="28" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)Amount" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
        </Label>

        <Label name="$(parent)Reason" inheritAlpha="true" verticalAlignment="CENTER" horizontalAlignment="LEFT" font="ZoFontGameSmall">
          <Dimensions y="28" />
          <Anchor point="TOPLEFT" relativeTo="$(parent)Timestamp" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)Variation" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
        </Label>
      </Controls>
    </Control>

    <!-- / -->

    <TopLevelControl movable="true" mouseEnabled="true" name="LedgerUI" resizeHandleSize="5">
      <Dimensions x="520" y="300" />
      <DimensionConstraints minX="520" minY="300" />
      <Anchor point="CENTER" />

      <OnMoveStop>
        Ledger:SaveUI()
      </OnMoveStop>

      <OnResizeStop>
        Ledger:SaveUI()
        ZO_ScrollList_SetHeight(LedgerUIList, self:GetHeight())
        ZO_ScrollList_Commit(LedgerUIList)
      </OnResizeStop>

      <OnShow>
        Ledger.list:RefreshData()
      </OnShow>

      <OnInitialized>
        Ledger:SetupList()
      </OnInitialized>

      <Controls>
        <Backdrop name="$(parent)BG" inherits="ZO_DefaultBackdrop">
          <AnchorFill />
        </Backdrop>

        <!-- / -->

        <Button name="$(parent)Refresh" inherits="ZO_DefaultButton">
          <Dimensions x="32" y="32" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="-32" offsetY="10" />
          <Textures normal="/esoui/art/buttons/info_up.dds" pressed="/esoui/art/buttons/info_down.dds" mouseOver="/esoui/art/buttons/info_mouseover.dds" disabled="/esoui/art/buttons/info_disabled.dds" />
          <OnMouseUp>
            Ledger.list:RefreshData()
          </OnMouseUp>
        </Button>

        <!-- / -->

        <Button name="$(parent)Close" inherits="ZO_DefaultButton">
          <Dimensions x="32" y="32" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="0" offsetY="10" />
          <Textures normal="/esoui/art/buttons/closebutton_up.dds" pressed="/esoui/art/buttons/closebutton_down.dds" mouseOver="/esoui/art/buttons/closebutton_mouseover.dds" disabled="/esoui/art/buttons/closebutton_disabled.dds" />
          <OnMouseUp>
            Ledger:ToggleUI()
          </OnMouseUp>
        </Button>

        <!-- / -->

        <Label name="$(parent)Heading" text="Ledger" color="EEEE77" font="ZoFontHeader2">
          <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="15" offsetY="15" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="-15" offsetY="15" />
        </Label>

        <!-- / -->

        <Control name="$(parent)Headers">
          <Dimensions y="32" />
          <Anchor point="TOPLEFT" relativeTo="$(parent)Heading" relativePoint="BOTTOMLEFT" offsetX="0" offsetY="10" />
          <Anchor point="TOPRIGHT" relativeTo="$(parent)Heading" relativePoint="BOTTOMRIGHT" offsetX="-12" offsetY="10" />

          <Controls>
            <Control name="$(parent)Timestamp" inherits="ZO_SortHeader">
              <Dimensions x="110" y="32" />
              <Anchor point="TOPLEFT" relativeTo="$(parent)" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, "Timestamp", "timestamp", ZO_SORT_ORDER_DOWN, TEXT_ALIGN_LEFT, "ZoFontGameSmall")
              </OnInitialized>
            </Control>

            <Control name="$(parent)Amount" inherits="ZO_SortHeader">
              <Dimensions x="90" y="32" />
              <Anchor point="TOPRIGHT" relativeTo="$(parent)" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, "Balance", "amount", ZO_SORT_ORDER_UP, TEXT_ALIGN_LEFT, "ZoFontGameSmall")
              </OnInitialized>
            </Control>

            <Control name="$(parent)Variation" inherits="ZO_SortHeader">
              <Dimensions x="90" y="32" />
              <Anchor point="TOPRIGHT" relativeTo="$(parent)Amount" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, "Variation", "variation", ZO_SORT_ORDER_UP, TEXT_ALIGN_LEFT, "ZoFontGameSmall")
              </OnInitialized>
            </Control>

            <Control name="$(parent)Reason" inherits="ZO_SortHeader">
              <Dimensions y="32" />
              <Anchor point="TOPLEFT" relativeTo="$(parent)Timestamp" relativePoint="TOPRIGHT" offsetX="0" offsetY="0" />
              <Anchor point="TOPRIGHT" relativeTo="$(parent)Variation" relativePoint="TOPLEFT" offsetX="0" offsetY="0" />
              <OnInitialized>
                ZO_SortHeader_Initialize(self, "Reason", "reason", ZO_SORT_ORDER_UP, TEXT_ALIGN_LEFT, "ZoFontGameSmall")
              </OnInitialized>
            </Control>
          </Controls>
        </Control>

        <!-- / -->

        <Control name="$(parent)List" inherits="ZO_ScrollList" >
          <Anchor point="TOPLEFT" relativeTo="$(parent)Headers" relativePoint="BOTTOMLEFT" offsetX="0" offsetY="0" />
          <Anchor point="BOTTOMRIGHT" relativeTo="$(parent)" relativePoint="BOTTOMRIGHT" offsetY="-15" offsetX="-10" />
          <!--<Controls><Backdrop alpha="0.125" edgeColor="FF0000"><AnchorFill /></Backdrop></Controls>-->
        </Control>
      </Controls>
    </TopLevelControl>
  </Controls>
</GuiXml>
